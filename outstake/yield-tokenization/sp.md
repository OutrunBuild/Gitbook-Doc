---
description: 头寸质押代币
---

# SP

SP(Staking Position) 代表**锁定头寸的本金到期赎回权**。由 [ERC6909](https://eips.ethereum.org/EIPS/eip-6909) 标准支持，允许用户转移头寸的部分赎回权利。持有者可以将其卖掉，从而变相地实现“提前赎回”操作。SP 合约中记录了头寸的不可更改的元数据，包括 **SY 质押数量、恒定本金价值、SP 铸造数量、锁定到期时间、UPT 铸造数量等等**。

**底层机制**：

1. **质押：**&#x7528;户质押其底层资产或生息资产，这些资产会自动转换为 SY 代币。
2. **铸造：**&#x8D28;押后，将按 SY 代币相对于其记账资产的价值 **1 : 1** 铸造可转让的 SP 代币（例如，当 1 SY-wstETH = 1.1 ETH 时，质押 1 SY-wstETH 将会铸造 1.1 SP-wstETH）。
3. **拆分：**&#x7528;户可以将其 SP 代币拆分为 UPT。此操作将使原始 SP 不可转让，但不会销毁，使其仍可跟踪。UPT 的拆分数量与**质押时间**（即铸造的 YT 数量）和**铸造价值比**（MTV）相关，具体计算方式如下：
   * $$\text{UPT 数量} = \text{SY 的记账资产价值} - \text{YT 数量} \times \text{YT 的可赎回价值}$$
   * **MTV** 限制了**可铸造 UPT 的最大数量**。例如，当 MTV 为 95% 时，可铸造的 UPT 数量上限为质押生息资产价值的 95%。
4. **合成：**&#x7528;户保留随时销毁其 UPT 的权限。此操作将使 UPT 与不可转让的 SP 合成为原始的可转让 SP。

在头寸锁定时间到期后可以**燃烧固定数量的可转让 SP 来赎回其对应仓位固定数量的生息代币本金**，从而基于市场价格与锁定到期时间形成不同的**固定利率**。通过持有可转让 SP 可以获得基于记账资产的固定利率收益。

一般来说，生息代币可以大致分类为：

1. **Rebase 代币** - 随着时间的推移而增加余额的代币

_示例：stETH, aUSDC_

2. **带奖励的非 Rebase 代币** - 随着时间的推移而增值的代币

_示例：wstETH, stone, slisBNB_

**特别需要注意的是**: 对于带奖励的非 Rebase 生息代币，在锁定时间到期后，头寸中质押的生息代币的数量不会发生改变，但是其价值（相对于记账**资产代币**的交换比率）会随利息收益的积累增长，所以燃烧 SP 并不会赎回和最初质押时相同数量的非 Rebase 生息代币，而是会略微减少，因为其中一部分价值归属于 YT。

#### **SP 交易市场**

关于构建 SP 交易市场，有一个非常有意思的特性，虽然 SP 的 ERC6909 标准的代币，但 **SP 交易市场是不需要主动积极做市的**，因为 SP 的特点导致任何 SP 的交易市场都自带类似于 AMM 的特性。

用户交易 SP 的目的是为了获取固定利率，而**其固定利率在固定的挂单价格下会随着时间接近其锁定到期时间而自动增长**，这意味着**任何 SP 交易市场都自带价格发现的特性**，用户会在自认为合适的固定利率时间点购买 SP 代币，从而确认 SP 的真实市场价值，只要 SP 的挂单价格不超过到期可赎回本金的价值，那它就一定会被卖出。

